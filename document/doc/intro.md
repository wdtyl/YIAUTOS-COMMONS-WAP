# Wap组件库技术项目计划


## 一.项目说明

组件库项目计划分为三个子项目：Web组件库、Wap组件库、小程序组件库，本项目是Wap用组件库,可供Wap页面与Webview使用。

1.组件的分类：

![image](http://test.erp.images.itsmycar.cn/yiautos_comp_desc_1.jpeg)

我们前端平时用到的组件主要分为基础组件与业务组件，基础组件是指和业务无关的组件，例如Input、Select、弹窗、图片展示、富文本编辑等，这些组件我们在本次组件库项目中没有开发的计划，而是直接引用第三方的组件。业务组件至和我们的业务强相关，或者在组件内部维护了业务代码，或在组件内部请求了我们的业务服务等情况，业务组件是我们组件库项目开发的重点，我们计划在第三方的基础组件的基础上封装一套业务组件（例如表格、车型选择、员工选择等）。

2.组件库打包方式

经过讨论与调研其他组件库，我们计划将组件库打包为UMD形式的js库，UMD格式可以兼容ES6、CommonJs、AMD；CSS单独打包成一个文件，在项目的main入口文件中引入。

![image](http://test.erp.images.itsmycar.cn/yiautos_comp_desc_2.jpeg)

为减少项目引用后部署时的js文件大小，计划将依赖剥离出组件库，由宿主项目提供。例如Vue库、Element库的代码不再打包到组件库的打包文件中，改为在package.json中添加依赖，由宿主项目进行集成，或在html中引用cdn提供的包。

3.组件库引用方式

组件库完成后会部署到我们[本地的Nexus](http://nexus3.erp2.itsmycar.cn/)服务器上，通过在package.json中指定repo的地址来进行下载与更新;

也可以部署在本地git上,通过package.json的git进行引用.

## 二.开发计划

组件库的开发计划以润祥捷ERP的改版为基础，以ERP的组件需求确定需要封装的组件，后续会对宜买车ERP进行部分重构,将原有组件替换为本组件库的组件;

组件库的开发大致分为3个阶段：

1.项目搭建阶段

在宜买车联盟需求与原型确定前进行，搭建组件库项目基础框架、打包配置、外部依赖、单元测试、e2e测试、按需引用等工作，并完成基础框架代码。

2.组件设计阶段

在宜买车联盟原型产出后，根据原型的需求确定需要封装的组件，此阶段需要设计介入，此时开始组件库项目的开发。

3.开发与维护

在宜买车联盟项目进入开发阶段时同步进行，宜买车联盟项目中的通用组件全部引用组件库中的组件。

## 三.人员需求

前端：北京与厦门前端，在项目进行中抽出约20%时间进行；
设计：需要设计长期介入；
后端：部分依赖接口的组件需要后端支持。
